%!TEX root = ../main.tex

\definecolor{fcdGrayA}{HTML}{111111}
\definecolor{fcdGrayB}{HTML}{222222}
\definecolor{fcdGrayC}{HTML}{333333}
\definecolor{fcdGrayD}{HTML}{444444}
\definecolor{fcdGrayE}{HTML}{555555}
\definecolor{fcdGrayF}{HTML}{666666}
\definecolor{fcdGrayG}{HTML}{777777}
\definecolor{fcdGrayH}{HTML}{888888}
\definecolor{fcdGrayI}{HTML}{999999}
\definecolor{fcdGrayJ}{HTML}{AAAAAA}
\definecolor{fcdGrayK}{HTML}{BBBBBB}
\definecolor{fcdGrayL}{HTML}{CCCCCC}
\definecolor{fcdGrayM}{HTML}{DDDDDD}
\definecolor{fcdGrayN}{HTML}{EEEEEE}

\colorlet{ClrFitterA}{blue}
\colorlet{ClrFitterB}{red}

\begin{tikzpicture}[
  exp_label/.style={
    anchor=west,
    %minimum width=10em,
    align=left,
    font=\small\sffamily,
    inner sep=0.5em,
    outer sep=0,
  },
  exp_result/.style={
    anchor=east,
    align=right,
    font=\footnotesize\sffamily,
    inner sep=0.5em,
    outer sep=0,
    yshift=0.22em
  }
]
\begin{axis}[
  width=\textwidth,
  height=22ex,
  font=\small,
  xmin=0.62,xmax=0.80,ymin=0.3,ymax=2.7,
  xlabel={${\SJpsiKS}$},
  xlabel style={
        at={(ticklabel cs:1)},
        anchor=north east,
    },%
  xtick={0.67, 0.69, 0.71, 0.73, 0.75, 0.77},
  xticklabel style={%
    major tick length=3pt,
    /pgf/number format/fixed
  },
  hide y axis
]

\begin{pgfonlayer}{background}
  \draw[ultra thin,color=fcdGrayM,dashed]({rel axis cs:0,0}-|{axis cs:0.67,0}) -- ({rel axis cs:0.67,1}-|{axis cs:0.67,0});
  \draw[ultra thin,color=fcdGrayM,dashed]({rel axis cs:0,0}-|{axis cs:0.68,0}) -- ({rel axis cs:0.68,1}-|{axis cs:0.68,0});
  \draw[ultra thin,color=fcdGrayM,dashed]({rel axis cs:0,0}-|{axis cs:0.69,0}) -- ({rel axis cs:0.69,1}-|{axis cs:0.69,0});
  \draw[ultra thin,color=fcdGrayM,dashed]({rel axis cs:0,0}-|{axis cs:0.70,0}) -- ({rel axis cs:0.70,1}-|{axis cs:0.70,0});
  \draw[ultra thin,color=fcdGrayM,dashed]({rel axis cs:0,0}-|{axis cs:0.71,0}) -- ({rel axis cs:0.71,1}-|{axis cs:0.71,0});
  \draw[ultra thin,color=fcdGrayM,dashed]({rel axis cs:0,0}-|{axis cs:0.72,0}) -- ({rel axis cs:0.72,1}-|{axis cs:0.72,0});
  \draw[ultra thin,color=fcdGrayM,dashed]({rel axis cs:0,0}-|{axis cs:0.73,0}) -- ({rel axis cs:0.73,1}-|{axis cs:0.73,0});
  \draw[ultra thin,color=fcdGrayM,dashed]({rel axis cs:0,0}-|{axis cs:0.74,0}) -- ({rel axis cs:0.74,1}-|{axis cs:0.74,0});
  \draw[ultra thin,color=fcdGrayM,dashed]({rel axis cs:0,0}-|{axis cs:0.75,0}) -- ({rel axis cs:0.75,1}-|{axis cs:0.75,0});
  \draw[ultra thin,color=fcdGrayM,dashed]({rel axis cs:0,0}-|{axis cs:0.76,0}) -- ({rel axis cs:0.76,1}-|{axis cs:0.76,0});
  \draw[ultra thin,color=fcdGrayM,dashed]({rel axis cs:0,0}-|{axis cs:0.77,0}) -- ({rel axis cs:0.77,1}-|{axis cs:0.77,0});

  % per-event reso
  \fill[color=fcdGrayM] ({rel axis cs:0,0}-|{axis cs:0.737125640334,0}) rectangle ({rel axis cs:0.718208386766,1}-|{axis cs:0.718208386766,0});
  \fill[color=fcdGrayK] ({rel axis cs:0,0}-|{axis cs:0.732396326942,0}) rectangle ({rel axis cs:0.722937700158,1}-|{axis cs:0.722937700158,0});
  \draw[ultra thin,color=fcdGrayI]({rel axis cs:0,0}-|{axis cs:0.72766701355,0}) -- ({rel axis cs:0.72766701355,1}-|{axis cs:0.72766701355,0});
\end{pgfonlayer}

%-------------------------------------------------------------------------------
% PER_EVENT RESOLUTION
\node[exp_label, color=ClrFitterA] (FitterA_lbl) at (axis cs: \pgfkeysvalueof{/pgfplots/xmin},2)  
{Fitter A};
\node[exp_result,color=ClrFitterA] (FitterA_rsl) at (axis cs: \pgfkeysvalueof{/pgfplots/xmax},2) 
{${0.727 \pm\,^{0.034}_{0.035}}$};

\addplot+[only marks,
    thin,
    solid,
    color = ClrFitterA,
    mark=none,
    mark options={%
      scale=0.7,
      draw=ClrFitterA
    },
    error bars/.cd,
    x dir=both, x explicit,
    y dir=both, y explicit,
    error mark options={%
      rotate=90,
      mark size=5pt,
      color=ClrFitterA
    }
]
table[
        x error plus=ex+,
        x error minus=ex-,
]{
  x        y  ex+        ex-  
  0.72683  2  0.034456   0.034641
};

\node[exp_label, color=ClrFitterB] (FitterB_lbl) at (axis cs: \pgfkeysvalueof{/pgfplots/xmin},1)  
{Fitter B};
\node[exp_result,color=ClrFitterB] (FitterB_rsl) at (axis cs: \pgfkeysvalueof{/pgfplots/xmax},1) 
{${0.729 \pm 0.035}$};

\addplot+[only marks,
    thin,
    solid,
    color = ClrFitterB,
    mark=none,
    mark options={%
      scale=0.7,
      draw=ClrFitterB
    },
    error bars/.cd,
    x dir=both, x explicit,
    y dir=both, y explicit,
    error mark options={%
      rotate=90,
      mark size=5pt,
      color=ClrFitterB
    }
]
table[
        x error plus=ex+,
        x error minus=ex-,
]{
  x              y  ex+             ex-  
  0.7285040271   1  0.03461272157   0.03477905032
};

\end{axis}
\end{tikzpicture}
